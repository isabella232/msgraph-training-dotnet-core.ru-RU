# <a name="how-to-run-the-completed-project"></a>Выполнение завершенного проекта

## <a name="prerequisites"></a>Предварительные требования

Чтобы запустить завершенный проект в этой папке, вам потребуются следующие компоненты:

- [Пакет SDK .NET Core](https://dotnet.microsoft.com/download) , установленный на компьютере для разработки. (**Примечание:** данное руководство написано в пакете SDK для .NET Core версии 2.2.401. Действия, описанные в этом руководстве, могут работать с другими версиями, но не тестировались.
- Рабочая или учебная учетная запись Майкрософт.

Если у вас нет учетной записи Майкрософт, вы можете [зарегистрироваться в программе для разработчиков office 365](https://developer.microsoft.com/office/dev-program) , чтобы получить бесплатную подписку на Office 365.

## <a name="register-a-web-application-with-the-azure-active-directory-admin-center"></a>Регистрация веб-приложения с помощью центра администрирования Azure Active Directory

1. Откройте браузер и перейдите в [Центр администрирования Azure Active Directory](https://aad.portal.azure.com) и войдите с помощью **личной учетной записи** (т.е. учетной записи Майкрософт) или **рабочей или учебной учетной записи**.

1. Выберите **Azure Active Directory** на панели навигации слева, затем выберите **Регистрация приложений** в разделе **Управление**.

    ![Снимок экрана с регистрациями приложений ](/tutorial/images/aad-portal-app-registrations.png)

1. Выберите **Новая регистрация**. На странице**Зарегистрировать приложение** задайте необходимые значения следующим образом.

    - Введите **имя** `.NET Core Graph Tutorial`.
    - Установите **Поддерживаемые типы учетных** записей для **учетных записей в любом организационном каталоге**.
    - Оставьте поле **URI перенаправления** пустым.

    ![Снимок страницы "регистрация приложения"](/tutorial/images/aad-register-an-app.png)

1. Выберите **регистр**. На странице **учебника по базовому графику .NET** СКОПИРУЙТЕ значение **идентификатора Application (Client)** и сохраните его, он понадобится на следующем шаге.

    ![Снимок экрана с ИДЕНТИФИКАТОРом приложения для новой регистрации приложения](/tutorial/images/aad-application-id.png)

1. Выберите ссылку **Добавить URI перенаправления** . На странице " **Перенаправление URI** " выберите раздел **Перенаправление URI для общедоступных клиентов (мобильный, Настольный)** . Выберите `https://login.microsoftonline.com/common/oauth2/nativeclient` универсальный код ресурса (URI).

    ![Снимок экрана со страницей URI перенаправления](/tutorial/images/aad-redirect-uris.png)

1. Найдите раздел **Тип клиента по умолчанию** и измените **приложение рассматривать как общедоступный клиент** на **Да**, а затем нажмите кнопку **сохранить**.

    ![Снимок экрана: раздел "тип клиента по умолчанию"](/tutorial/images/aad-default-client-type.png)

## <a name="configure-the-sample"></a>Настройка примера

1. Инициализируйте [хранилище секрета .NET Development](https://docs.microsoft.com/aspnet/core/security/app-secrets) , открыв его в каталоге, содержащем **графтуториал. csproj** , и выполнив следующую команду.

    ```Shell
    dotnet user-secrets init
    ```

1. Добавьте идентификатор приложения и список требуемых областей в Секретное хранилище с помощью следующих команд. Замените `YOUR_APP_ID_HERE` идентификатором приложения, созданным на портале Azure.

    ```Shell
    dotnet user-secrets set appId "YOUR_APP_ID_HERE"
    dotnet user-secrets set scopes "User.Read;Calendars.Read"
    ```

## <a name="build-and-run-the-sample"></a>Сборка и запуск примера

В интерфейсе командной строки (CLI) перейдите в каталог проекта и выполните приведенные ниже команды.

```Shell
dotnet restore
dotnet build
dotnet run
```
